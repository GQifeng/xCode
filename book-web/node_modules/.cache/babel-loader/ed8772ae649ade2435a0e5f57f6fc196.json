{"remainingRequest":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\utils\\dict\\Dict.js","dependencies":[{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\utils\\dict\\Dict.js","mtime":1667985372000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\babel.config.js","mtime":1667985372000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9cdTVGOTBcdTUzRUZcdTVGQzMvRGVza3RvcC9TMTIxMS1cdThCQkVcdThCQTEvXHU5ODc5XHU3NkVFXHU2RTkwXHU3ODAxL2Jvb2std2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIubWF4LXNhZmUtaW50ZWdlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CnZhciBfdG9Db25zdW1hYmxlQXJyYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9cdTVGOTBcdTUzRUZcdTVGQzMvRGVza3RvcC9TMTIxMS1cdThCQkVcdThCQTEvXHU5ODc5XHU3NkVFXHU2RTkwXHU3ODAxL2Jvb2std2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5LmpzIikpOwp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvXHU1RjkwXHU1M0VGXHU1RkMzL0Rlc2t0b3AvUzEyMTEtXHU4QkJFXHU4QkExL1x1OTg3OVx1NzZFRVx1NkU5MFx1NzgwMS9ib29rLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcyIpKTsKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL1x1NUY5MFx1NTNFRlx1NUZDMy9EZXNrdG9wL1MxMjExLVx1OEJCRVx1OEJBMS9cdTk4NzlcdTc2RUVcdTZFOTBcdTc4MDEvYm9vay13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiKSk7CnZhciBfdnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUiKSk7CnZhciBfcnVveWkgPSByZXF1aXJlKCJAL3V0aWxzL3J1b3lpIik7CnZhciBfRGljdE1ldGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vRGljdE1ldGEiKSk7CnZhciBfRGljdERhdGEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vRGljdERhdGEiKSk7CnZhciBERUZBVUxUX0RJQ1RfT1BUSU9OUyA9IHsKICB0eXBlczogW10KfTsKCi8qKgogKiBAY2xhc3NkZXNjIOWtl+WFuAogKiBAcHJvcGVydHkge09iamVjdH0gbGFiZWwg5qCH562+5a+56LGh77yM5YaF6YOo5bGe5oCn5ZCN5Li65a2X5YW457G75Z6L5ZCN56ewCiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkaWN0IOWtl+auteaVsOe7hO+8jOWGhemDqOWxnuaAp+WQjeS4uuWtl+WFuOexu+Wei+WQjeensAogKiBAcHJvcGVydHkge0FycmF5LjxEaWN0TWV0YT59IF9kaWN0TWV0YXMg5a2X5YW45YWD5pWw5o2u5pWw57uECiAqLwp2YXIgRGljdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRGljdCgpIHsKICAgICgwLCBfY2xhc3NDYWxsQ2hlY2syLmRlZmF1bHQpKHRoaXMsIERpY3QpOwogICAgdGhpcy5vd25lciA9IG51bGw7CiAgICB0aGlzLmxhYmVsID0ge307CiAgICB0aGlzLnR5cGUgPSB7fTsKICB9CiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoRGljdCwgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQob3B0aW9ucykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgb3B0aW9ucyA9IHsKICAgICAgICAgIHR5cGVzOiBvcHRpb25zCiAgICAgICAgfTsKICAgICAgfQogICAgICB2YXIgb3B0cyA9ICgwLCBfcnVveWkubWVyZ2VSZWN1cnNpdmUpKERFRkFVTFRfRElDVF9PUFRJT05TLCBvcHRpb25zKTsKICAgICAgaWYgKG9wdHMudHlwZXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignbmVlZCBkaWN0IHR5cGVzJyk7CiAgICAgIH0KICAgICAgdmFyIHBzID0gW107CiAgICAgIHRoaXMuX2RpY3RNZXRhcyA9IG9wdHMudHlwZXMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgcmV0dXJuIF9EaWN0TWV0YS5kZWZhdWx0LnBhcnNlKHQpOwogICAgICB9KTsKICAgICAgdGhpcy5fZGljdE1ldGFzLmZvckVhY2goZnVuY3Rpb24gKGRpY3RNZXRhKSB7CiAgICAgICAgdmFyIHR5cGUgPSBkaWN0TWV0YS50eXBlOwogICAgICAgIF92dWUuZGVmYXVsdC5zZXQoX3RoaXMubGFiZWwsIHR5cGUsIHt9KTsKICAgICAgICBfdnVlLmRlZmF1bHQuc2V0KF90aGlzLnR5cGUsIHR5cGUsIFtdKTsKICAgICAgICBpZiAoZGljdE1ldGEubGF6eSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBwcy5wdXNoKGxvYWREaWN0KF90aGlzLCBkaWN0TWV0YSkpOwogICAgICB9KTsKICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHBzKTsKICAgIH0KCiAgICAvKioKICAgICAqIOmHjeaWsOWKoOi9veWtl+WFuAogICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUg5a2X5YW457G75Z6LCiAgICAgKi8KICB9LCB7CiAgICBrZXk6ICJyZWxvYWREaWN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWxvYWREaWN0KHR5cGUpIHsKICAgICAgdmFyIGRpY3RNZXRhID0gdGhpcy5fZGljdE1ldGFzLmZpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS50eXBlID09PSB0eXBlOwogICAgICB9KTsKICAgICAgaWYgKGRpY3RNZXRhID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoInRoZSBkaWN0IG1ldGEgb2YgIi5jb25jYXQodHlwZSwgIiB3YXMgbm90IGZvdW5kIikpOwogICAgICB9CiAgICAgIHJldHVybiBsb2FkRGljdCh0aGlzLCBkaWN0TWV0YSk7CiAgICB9CiAgfV0pOwogIHJldHVybiBEaWN0Owp9KCk7Ci8qKgogKiDliqDovb3lrZflhbgKICogQHBhcmFtIHtEaWN0fSBkaWN0IOWtl+WFuAogKiBAcGFyYW0ge0RpY3RNZXRhfSBkaWN0TWV0YSDlrZflhbjlhYPmlbDmja4KICogQHJldHVybnMge1Byb21pc2V9CiAqLwpleHBvcnRzLmRlZmF1bHQgPSBEaWN0OwpmdW5jdGlvbiBsb2FkRGljdChkaWN0LCBkaWN0TWV0YSkgewogIHJldHVybiBkaWN0TWV0YS5yZXF1ZXN0KGRpY3RNZXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgdmFyIF9kaWN0JHR5cGUkdHlwZTsKICAgIHZhciB0eXBlID0gZGljdE1ldGEudHlwZTsKICAgIHZhciBkaWN0cyA9IGRpY3RNZXRhLnJlc3BvbnNlQ29udmVydGVyKHJlc3BvbnNlLCBkaWN0TWV0YSk7CiAgICBpZiAoIShkaWN0cyBpbnN0YW5jZW9mIEFycmF5KSkgewogICAgICBjb25zb2xlLmVycm9yKCd0aGUgcmV0dXJuIG9mIHJlc3BvbnNlQ29udmVydGVyIG11c3QgYmUgQXJyYXkuPERpY3REYXRhPicpOwogICAgICBkaWN0cyA9IFtdOwogICAgfSBlbHNlIGlmIChkaWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgcmV0dXJuIGQgaW5zdGFuY2VvZiBfRGljdERhdGEuZGVmYXVsdDsKICAgIH0pLmxlbmd0aCAhPT0gZGljdHMubGVuZ3RoKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ3RoZSB0eXBlIG9mIGVsZW1lbnRzIGluIGRpY3RzIG11c3QgYmUgRGljdERhdGEnKTsKICAgICAgZGljdHMgPSBbXTsKICAgIH0KICAgIChfZGljdCR0eXBlJHR5cGUgPSBkaWN0LnR5cGVbdHlwZV0pLnNwbGljZS5hcHBseShfZGljdCR0eXBlJHR5cGUsIFswLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUl0uY29uY2F0KCgwLCBfdG9Db25zdW1hYmxlQXJyYXkyLmRlZmF1bHQpKGRpY3RzKSkpOwogICAgZGljdHMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICBfdnVlLmRlZmF1bHQuc2V0KGRpY3QubGFiZWxbdHlwZV0sIGQudmFsdWUsIGQubGFiZWwpOwogICAgfSk7CiAgICByZXR1cm4gZGljdHM7CiAgfSk7Cn0="},{"version":3,"names":["DEFAULT_DICT_OPTIONS","types","Dict","owner","label","type","options","Array","opts","mergeRecursive","undefined","Error","ps","_dictMetas","map","t","DictMeta","parse","forEach","dictMeta","Vue","set","lazy","push","loadDict","Promise","all","find","e","reject","dict","request","then","response","dicts","responseConverter","console","error","filter","d","DictData","length","splice","Number","MAX_SAFE_INTEGER","value"],"sources":["C:/Users/徐可心/Desktop/S1211-设计/项目源码/book-web/src/utils/dict/Dict.js"],"sourcesContent":["import Vue from 'vue'\nimport { mergeRecursive } from \"@/utils/ruoyi\";\nimport DictMeta from './DictMeta'\nimport DictData from './DictData'\n\nconst DEFAULT_DICT_OPTIONS = {\n  types: [],\n}\n\n/**\n * @classdesc 字典\n * @property {Object} label 标签对象，内部属性名为字典类型名称\n * @property {Object} dict 字段数组，内部属性名为字典类型名称\n * @property {Array.<DictMeta>} _dictMetas 字典元数据数组\n */\nexport default class Dict {\n  constructor() {\n    this.owner = null\n    this.label = {}\n    this.type = {}\n  }\n\n  init(options) {\n    if (options instanceof Array) {\n      options = { types: options }\n    }\n    const opts = mergeRecursive(DEFAULT_DICT_OPTIONS, options)\n    if (opts.types === undefined) {\n      throw new Error('need dict types')\n    }\n    const ps = []\n    this._dictMetas = opts.types.map(t => DictMeta.parse(t))\n    this._dictMetas.forEach(dictMeta => {\n      const type = dictMeta.type\n      Vue.set(this.label, type, {})\n      Vue.set(this.type, type, [])\n      if (dictMeta.lazy) {\n        return\n      }\n      ps.push(loadDict(this, dictMeta))\n    })\n    return Promise.all(ps)\n  }\n\n  /**\n   * 重新加载字典\n   * @param {String} type 字典类型\n   */\n  reloadDict(type) {\n    const dictMeta = this._dictMetas.find(e => e.type === type)\n    if (dictMeta === undefined) {\n      return Promise.reject(`the dict meta of ${type} was not found`)\n    }\n    return loadDict(this, dictMeta)\n  }\n}\n\n/**\n * 加载字典\n * @param {Dict} dict 字典\n * @param {DictMeta} dictMeta 字典元数据\n * @returns {Promise}\n */\nfunction loadDict(dict, dictMeta) {\n  return dictMeta.request(dictMeta)\n    .then(response => {\n      const type = dictMeta.type\n      let dicts = dictMeta.responseConverter(response, dictMeta)\n      if (!(dicts instanceof Array)) {\n        console.error('the return of responseConverter must be Array.<DictData>')\n        dicts = []\n      } else if (dicts.filter(d => d instanceof DictData).length !== dicts.length) {\n        console.error('the type of elements in dicts must be DictData')\n        dicts = []\n      }\n      dict.type[type].splice(0, Number.MAX_SAFE_INTEGER, ...dicts)\n      dicts.forEach(d => {\n        Vue.set(dict.label[type], d.value, d.label)\n      })\n      return dicts\n    })\n}\n"],"mappings":"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"}]}