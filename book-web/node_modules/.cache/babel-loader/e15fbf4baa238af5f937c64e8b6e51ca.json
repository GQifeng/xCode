{"remainingRequest":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\utils\\request.js","mtime":1677920928000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\babel.config.js","mtime":1667985372000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJDOi9Vc2Vycy9cdTVGOTBcdTUzRUZcdTVGQzMvRGVza3RvcC9TMTIxMS1cdThCQkVcdThCQTEvXHU5ODc5XHU3NkVFXHU2RTkwXHU3ODAxL2Jvb2std2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpleHBvcnRzLmRvd25sb2FkID0gZG93bmxvYWQ7CmV4cG9ydHMuaXNSZWxvZ2luID0gdm9pZCAwOwp2YXIgX3JlZ2VuZXJhdG9yUnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkM6L1VzZXJzL1x1NUY5MFx1NTNFRlx1NUZDMy9EZXNrdG9wL1MxMjExLVx1OEJCRVx1OEJBMS9cdTk4NzlcdTc2RUVcdTZFOTBcdTc4MDEvYm9vay13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lLmpzIikpOwp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJDOi9Vc2Vycy9cdTVGOTBcdTUzRUZcdTVGQzMvRGVza3RvcC9TMTIxMS1cdThCQkVcdThCQTEvXHU5ODc5XHU3NkVFXHU2RTkwXHU3ODAxL2Jvb2std2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiKSk7CnZhciBfdHlwZW9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQzovVXNlcnMvXHU1RjkwXHU1M0VGXHU1RkMzL0Rlc2t0b3AvUzEyMTEtXHU4QkJFXHU4QkExL1x1OTg3OVx1NzZFRVx1NkU5MFx1NzgwMS9ib29rLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIik7CnZhciBfYXhpb3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImF4aW9zIikpOwp2YXIgX2VsZW1lbnRVaSA9IHJlcXVpcmUoImVsZW1lbnQtdWkiKTsKdmFyIF9zdG9yZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9zdG9yZSIpKTsKdmFyIF9hdXRoID0gcmVxdWlyZSgiQC91dGlscy9hdXRoIik7CnZhciBfZXJyb3JDb2RlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3V0aWxzL2Vycm9yQ29kZSIpKTsKdmFyIF9ydW95aSA9IHJlcXVpcmUoIkAvdXRpbHMvcnVveWkiKTsKdmFyIF9jYWNoZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9wbHVnaW5zL2NhY2hlIikpOwp2YXIgX2ZpbGVTYXZlciA9IHJlcXVpcmUoImZpbGUtc2F2ZXIiKTsKdmFyIF9hZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vYWVzLmpzIikpOwp2YXIgZG93bmxvYWRMb2FkaW5nSW5zdGFuY2U7Ci8vIOaYr+WQpuaYvuekuumHjeaWsOeZu+W9lQp2YXIgaXNSZWxvZ2luID0gewogIHNob3c6IGZhbHNlCn07CmV4cG9ydHMuaXNSZWxvZ2luID0gaXNSZWxvZ2luOwpfYXhpb3MuZGVmYXVsdC5kZWZhdWx0cy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnOwovLyDliJvlu7pheGlvc+WunuS+iwp2YXIgc2VydmljZSA9IF9heGlvcy5kZWZhdWx0LmNyZWF0ZSh7CiAgLy8gYXhpb3PkuK3or7fmsYLphY3nva7mnIliYXNlVVJM6YCJ6aG577yM6KGo56S66K+35rGCVVJM5YWs5YWx6YOo5YiGCiAgYmFzZVVSTDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9CQVNFX0FQSSwKICAvLyDotoXml7YKICB0aW1lb3V0OiA2MCAqIDYwICogMTAwMAp9KTsKCi8vIHJlcXVlc3Tmi6bmiKrlmagKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIOaYr+WQpumcgOimgeiuvue9riB0b2tlbgogIHZhciBpc1Rva2VuID0gKGNvbmZpZy5oZWFkZXJzIHx8IHt9KS5pc1Rva2VuID09PSBmYWxzZTsKICAvLyDmmK/lkKbpnIDopoHpmLLmraLmlbDmja7ph43lpI3mj5DkuqQKICB2YXIgaXNSZXBlYXRTdWJtaXQgPSAoY29uZmlnLmhlYWRlcnMgfHwge30pLnJlcGVhdFN1Ym1pdCA9PT0gZmFsc2U7CiAgaWYgKCgwLCBfYXV0aC5nZXRUb2tlbikoKSAmJiAhaXNUb2tlbikgewogICAgY29uZmlnLmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdCZWFyZXIgJyArICgwLCBfYXV0aC5nZXRUb2tlbikoKTsgLy8g6K6p5q+P5Liq6K+35rGC5pC65bim6Ieq5a6a5LmJdG9rZW4g6K+35qC55o2u5a6e6ZmF5oOF5Ya16Ieq6KGM5L+u5pS5CiAgfQogIC8vIOivt+axguWPguaVsOWKoOWvhgogIGlmIChwcm9jZXNzLmVudi5WVUVfQVBQX0FFU19FTkNSWVBUX0VOQUJMRUQgPT0gJ3RydWUnKSB7CiAgICBpZiAoY29uZmlnLmRhdGEpIHsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoY29uZmlnLmRhdGEpKTsKICAgICAgY29uZmlnLmRhdGEgPSB7CiAgICAgICAgLy8g5Yqg5a+G5Y+C5pWwCiAgICAgICAgZGF0YVBhcmFtczogZW5jb2RlVVJJQ29tcG9uZW50KF9hZXMuZGVmYXVsdC5lbmNyeXB0KEpTT04uc3RyaW5naWZ5KGNvbmZpZy5kYXRhKSkpCiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJhbXMpIHsKICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoY29uZmlnLnBhcmFtcykpOwogICAgICBjb25maWcucGFyYW1zID0gewogICAgICAgIC8vIOWKoOWvhuWPguaVsAogICAgICAgIGRhdGFQYXJhbXM6IGVuY29kZVVSSUNvbXBvbmVudChfYWVzLmRlZmF1bHQuZW5jcnlwdChKU09OLnN0cmluZ2lmeShjb25maWcucGFyYW1zKSkpCiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB2YXIgbm9EYXRhID0gewogICAgICAgIG5vRGF0YTogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgfTsKICAgICAgY29uZmlnLnBhcmFtcyA9IHsKICAgICAgICAvLyDliqDlr4blj4LmlbAKICAgICAgICBkYXRhUGFyYW1zOiBlbmNvZGVVUklDb21wb25lbnQoX2Flcy5kZWZhdWx0LmVuY3J5cHQoSlNPTi5zdHJpbmdpZnkobm9EYXRhKSkpCiAgICAgIH07CiAgICB9CiAgfQogIC8vIGdldOivt+axguaYoOWwhHBhcmFtc+WPguaVsAogIGlmIChjb25maWcubWV0aG9kID09PSAnZ2V0JyAmJiBjb25maWcucGFyYW1zKSB7CiAgICB2YXIgdXJsID0gY29uZmlnLnVybCArICc/JyArICgwLCBfcnVveWkudGFuc1BhcmFtcykoY29uZmlnLnBhcmFtcyk7CiAgICB1cmwgPSB1cmwuc2xpY2UoMCwgLTEpOwogICAgY29uZmlnLnBhcmFtcyA9IHt9OwogICAgY29uZmlnLnVybCA9IHVybDsKICB9CiAgaWYgKCFpc1JlcGVhdFN1Ym1pdCAmJiAoY29uZmlnLm1ldGhvZCA9PT0gJ3Bvc3QnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdwdXQnKSkgewogICAgdmFyIHJlcXVlc3RPYmogPSB7CiAgICAgIHVybDogY29uZmlnLnVybCwKICAgICAgZGF0YTogKDAsIF90eXBlb2YyLmRlZmF1bHQpKGNvbmZpZy5kYXRhKSA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShjb25maWcuZGF0YSkgOiBjb25maWcuZGF0YSwKICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgIH07CiAgICB2YXIgc2Vzc2lvbk9iaiA9IF9jYWNoZS5kZWZhdWx0LnNlc3Npb24uZ2V0SlNPTignc2Vzc2lvbk9iaicpOwogICAgaWYgKHNlc3Npb25PYmogPT09IHVuZGVmaW5lZCB8fCBzZXNzaW9uT2JqID09PSBudWxsIHx8IHNlc3Npb25PYmogPT09ICcnKSB7CiAgICAgIF9jYWNoZS5kZWZhdWx0LnNlc3Npb24uc2V0SlNPTignc2Vzc2lvbk9iaicsIHJlcXVlc3RPYmopOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNfdXJsID0gc2Vzc2lvbk9iai51cmw7IC8vIOivt+axguWcsOWdgAogICAgICB2YXIgc19kYXRhID0gc2Vzc2lvbk9iai5kYXRhOyAvLyDor7fmsYLmlbDmja4KICAgICAgdmFyIHNfdGltZSA9IHNlc3Npb25PYmoudGltZTsgLy8g6K+35rGC5pe26Ze0CiAgICAgIHZhciBpbnRlcnZhbCA9IDEwMDA7IC8vIOmXtOmalOaXtumXtChtcynvvIzlsI/kuo7mraTml7bpl7Top4bkuLrph43lpI3mj5DkuqQKICAgICAgaWYgKHNfZGF0YSA9PT0gcmVxdWVzdE9iai5kYXRhICYmIHJlcXVlc3RPYmoudGltZSAtIHNfdGltZSA8IGludGVydmFsICYmIHNfdXJsID09PSByZXF1ZXN0T2JqLnVybCkgewogICAgICAgIHZhciBtZXNzYWdlID0gJ+aVsOaNruato+WcqOWkhOeQhu+8jOivt+WLv+mHjeWkjeaPkOS6pCc7CiAgICAgICAgY29uc29sZS53YXJuKCJbIi5jb25jYXQoc191cmwsICJdOiAiKSArIG1lc3NhZ2UpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IobWVzc2FnZSkpOwogICAgICB9IGVsc2UgewogICAgICAgIF9jYWNoZS5kZWZhdWx0LnNlc3Npb24uc2V0SlNPTignc2Vzc2lvbk9iaicsIHJlcXVlc3RPYmopOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g5ZON5bqU5oum5oiq5ZmoCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgLy8g5pyq6K6+572u54q25oCB56CB5YiZ6buY6K6k5oiQ5Yqf54q25oCBCiAgdmFyIGNvZGUgPSByZXMuZGF0YS5jb2RlIHx8IDIwMDsKICAvLyDojrflj5bplJnor6/kv6Hmga8KICB2YXIgbXNnID0gX2Vycm9yQ29kZS5kZWZhdWx0W2NvZGVdIHx8IHJlcy5kYXRhLm1zZyB8fCBfZXJyb3JDb2RlLmRlZmF1bHRbJ2RlZmF1bHQnXTsKICAvLyDkuozov5vliLbmlbDmja7liJnnm7TmjqXov5Tlm54KICBpZiAocmVzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSAnYmxvYicgfHwgcmVzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQogIGlmIChjb2RlID09PSA0MDEpIHsKICAgIGlmICghaXNSZWxvZ2luLnNob3cpIHsKICAgICAgaXNSZWxvZ2luLnNob3cgPSB0cnVlOwogICAgICBfZWxlbWVudFVpLk1lc3NhZ2VCb3guY29uZmlybSgn55m75b2V54q25oCB5bey6L+H5pyf77yM5oKo5Y+v5Lul57un57ut55WZ5Zyo6K+l6aG16Z2i77yM5oiW6ICF6YeN5paw55m75b2VJywgJ+ezu+e7n+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mHjeaWsOeZu+W9lScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGlzUmVsb2dpbi5zaG93ID0gZmFsc2U7CiAgICAgICAgX3N0b3JlLmRlZmF1bHQuZGlzcGF0Y2goJ0xvZ091dCcpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvbG9naW4nOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgaXNSZWxvZ2luLnNob3cgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ+aXoOaViOeahOS8muivne+8jOaIluiAheS8muivneW3sui/h+acn++8jOivt+mHjeaWsOeZu+W9leOAgicpOwogIH0gZWxzZSBpZiAoY29kZSA9PT0gNTAwKSB7CiAgICAoMCwgX2VsZW1lbnRVaS5NZXNzYWdlKSh7CiAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgdHlwZTogJ2Vycm9yJwogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKG1zZykpOwogIH0gZWxzZSBpZiAoY29kZSAhPT0gMjAwKSB7CiAgICBfZWxlbWVudFVpLk5vdGlmaWNhdGlvbi5lcnJvcih7CiAgICAgIHRpdGxlOiBtc2cKICAgIH0pOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdlcnJvcicpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gcmVzLmRhdGE7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBjb25zb2xlLmxvZygnZXJyJyArIGVycm9yKTsKICB2YXIgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgaWYgKG1lc3NhZ2UgPT0gIk5ldHdvcmsgRXJyb3IiKSB7CiAgICBtZXNzYWdlID0gIuWQjuerr+aOpeWPo+i/nuaOpeW8guW4uCI7CiAgfSBlbHNlIGlmIChtZXNzYWdlLmluY2x1ZGVzKCJ0aW1lb3V0IikpIHsKICAgIG1lc3NhZ2UgPSAi57O757uf5o6l5Y+j6K+35rGC6LaF5pe2IjsKICB9IGVsc2UgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUiKSkgewogICAgbWVzc2FnZSA9ICLns7vnu5/mjqXlj6MiICsgbWVzc2FnZS5zdWJzdHIobWVzc2FnZS5sZW5ndGggLSAzKSArICLlvILluLgiOwogIH0KICAoMCwgX2VsZW1lbnRVaS5NZXNzYWdlKSh7CiAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiA1ICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOwoKLy8g6YCa55So5LiL6L295pa55rOVCmZ1bmN0aW9uIGRvd25sb2FkKHVybCwgcGFyYW1zLCBmaWxlbmFtZSkgewogIGRvd25sb2FkTG9hZGluZ0luc3RhbmNlID0gX2VsZW1lbnRVaS5Mb2FkaW5nLnNlcnZpY2UoewogICAgdGV4dDogIuato+WcqOS4i+i9veaVsOaNru+8jOivt+eojeWAmSIsCiAgICBzcGlubmVyOiAiZWwtaWNvbi1sb2FkaW5nIiwKICAgIGJhY2tncm91bmQ6ICJyZ2JhKDAsIDAsIDAsIDAuNykiCiAgfSk7CiAgcmV0dXJuIHNlcnZpY2UucG9zdCh1cmwsIHBhcmFtcywgewogICAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgcmV0dXJuICgwLCBfcnVveWkudGFuc1BhcmFtcykocGFyYW1zKTsKICAgIH1dLAogICAgaGVhZGVyczogewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKICAgIH0sCiAgICByZXNwb25zZVR5cGU6ICdibG9iJwogIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICB2YXIgX3JlZiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi8oMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZGF0YSkgewogICAgICB2YXIgaXNMb2dpbiwgYmxvYiwgcmVzVGV4dCwgcnNwT2JqLCBlcnJNc2c7CiAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiAoMCwgX3J1b3lpLmJsb2JWYWxpZGF0ZSkoZGF0YSk7CiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGlzTG9naW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBpZiAoIWlzTG9naW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2RhdGFdKTsKICAgICAgICAgICAgKDAsIF9maWxlU2F2ZXIuc2F2ZUFzKShibG9iLCBmaWxlbmFtZSk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgcmV0dXJuIGRhdGEudGV4dCgpOwogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgcmVzVGV4dCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIHJzcE9iaiA9IEpTT04ucGFyc2UocmVzVGV4dCk7CiAgICAgICAgICAgIGVyck1zZyA9IF9lcnJvckNvZGUuZGVmYXVsdFtyc3BPYmouY29kZV0gfHwgcnNwT2JqLm1zZyB8fCBfZXJyb3JDb2RlLmRlZmF1bHRbJ2RlZmF1bHQnXTsKICAgICAgICAgICAgX2VsZW1lbnRVaS5NZXNzYWdlLmVycm9yKGVyck1zZyk7CiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBkb3dubG9hZExvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfSgpKS5jYXRjaChmdW5jdGlvbiAocikgewogICAgY29uc29sZS5lcnJvcihyKTsKICAgIF9lbGVtZW50VWkuTWVzc2FnZS5lcnJvcign5LiL6L295paH5Lu25Ye6546w6ZSZ6K+v77yM6K+36IGU57O7566h55CG5ZGY77yBJyk7CiAgICBkb3dubG9hZExvYWRpbmdJbnN0YW5jZS5jbG9zZSgpOwogIH0pOwp9CnZhciBfZGVmYXVsdCA9IHNlcnZpY2U7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["downloadLoadingInstance","isRelogin","show","axios","defaults","headers","service","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","isToken","isRepeatSubmit","repeatSubmit","getToken","VUE_APP_AES_ENCRYPT_ENABLED","data","console","log","JSON","stringify","dataParams","encodeURIComponent","aes","encrypt","params","noData","Date","getTime","method","url","tansParams","slice","requestObj","time","sessionObj","cache","session","getJSON","undefined","setJSON","s_url","s_data","s_time","interval","message","warn","Promise","reject","Error","error","response","res","code","msg","errorCode","responseType","MessageBox","confirm","confirmButtonText","cancelButtonText","type","then","store","dispatch","location","href","catch","Message","Notification","title","includes","substr","length","duration","download","filename","Loading","text","spinner","background","post","transformRequest","blobValidate","isLogin","blob","Blob","saveAs","resText","rspObj","parse","errMsg","close","r"],"sources":["C:/Users/徐可心/Desktop/S1211-设计/项目源码/book-web/src/utils/request.js"],"sourcesContent":["import axios from 'axios'\nimport { Notification, MessageBox, Message, Loading } from 'element-ui'\nimport store from '@/store'\nimport { getToken } from '@/utils/auth'\nimport errorCode from '@/utils/errorCode'\nimport { tansParams, blobValidate } from \"@/utils/ruoyi\";\nimport cache from '@/plugins/cache'\nimport { saveAs } from 'file-saver'\nimport aes from './aes.js'\n\nlet downloadLoadingInstance;\n// 是否显示重新登录\nexport let isRelogin = { show: false };\n\naxios.defaults.headers['Content-Type'] = 'application/json;charset=utf-8'\n// 创建axios实例\nconst service = axios.create({\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\n  baseURL: process.env.VUE_APP_BASE_API,\n  // 超时\n  timeout: 60 * 60 * 1000\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n  // 是否需要设置 token\n  const isToken = (config.headers || {}).isToken === false\n  // 是否需要防止数据重复提交\n  const isRepeatSubmit = (config.headers || {}).repeatSubmit === false\n  if (getToken() && !isToken) {\n    config.headers['Authorization'] = 'Bearer ' + getToken() // 让每个请求携带自定义token 请根据实际情况自行修改\n  }\n  // 请求参数加密\n  if (process.env.VUE_APP_AES_ENCRYPT_ENABLED == 'true') {\n    if (config.data) {\n      console.log(JSON.stringify(config.data));\n      config.data = {\n        // 加密参数\n        dataParams: encodeURIComponent(aes.encrypt(JSON.stringify(config.data)))\n      }\n    } else if (config.params) {\n      console.log(JSON.stringify(config.params));\n      config.params = {\n        // 加密参数\n        dataParams: encodeURIComponent(aes.encrypt(JSON.stringify(config.params)))\n      }\n    } else {\n      let noData = {\n        noData: new Date().getTime()\n      }\n      config.params = {\n        // 加密参数\n        dataParams: encodeURIComponent(aes.encrypt(JSON.stringify(noData)))\n      }\n    }\n  }\n  // get请求映射params参数\n  if (config.method === 'get' && config.params) {\n    let url = config.url + '?' + tansParams(config.params);\n    url = url.slice(0, -1);\n    config.params = {};\n    config.url = url;\n  }\n  if (!isRepeatSubmit && (config.method === 'post' || config.method === 'put')) {\n    const requestObj = {\n      url: config.url,\n      data: typeof config.data === 'object' ? JSON.stringify(config.data) : config.data,\n      time: new Date().getTime()\n    }\n    const sessionObj = cache.session.getJSON('sessionObj')\n    if (sessionObj === undefined || sessionObj === null || sessionObj === '') {\n      cache.session.setJSON('sessionObj', requestObj)\n    } else {\n      const s_url = sessionObj.url;                  // 请求地址\n      const s_data = sessionObj.data;                // 请求数据\n      const s_time = sessionObj.time;                // 请求时间\n      const interval = 1000;                         // 间隔时间(ms)，小于此时间视为重复提交\n      if (s_data === requestObj.data && requestObj.time - s_time < interval && s_url === requestObj.url) {\n        const message = '数据正在处理，请勿重复提交';\n        console.warn(`[${s_url}]: ` + message)\n        return Promise.reject(new Error(message))\n      } else {\n        cache.session.setJSON('sessionObj', requestObj)\n      }\n    }\n  }\n  return config\n}, error => {\n    console.log(error)\n    Promise.reject(error)\n})\n\n// 响应拦截器\nservice.interceptors.response.use(res => {\n    // 未设置状态码则默认成功状态\n    const code = res.data.code || 200;\n    // 获取错误信息\n    const msg = errorCode[code] || res.data.msg || errorCode['default']\n    // 二进制数据则直接返回\n    if(res.request.responseType ===  'blob' || res.request.responseType ===  'arraybuffer'){\n      return res.data\n    }\n    if (code === 401) {\n      if (!isRelogin.show) {\n        isRelogin.show = true;\n        MessageBox.confirm('登录状态已过期，您可以继续留在该页面，或者重新登录', '系统提示', {\n          confirmButtonText: '重新登录',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(() => {\n        isRelogin.show = false;\n        store.dispatch('LogOut').then(() => {\n          location.href = '/login';\n        })\n      }).catch(() => {\n        isRelogin.show = false;\n      });\n    }\n      return Promise.reject('无效的会话，或者会话已过期，请重新登录。')\n    } else if (code === 500) {\n      Message({\n        message: msg,\n        type: 'error'\n      })\n      return Promise.reject(new Error(msg))\n    } else if (code !== 200) {\n      Notification.error({\n        title: msg\n      })\n      return Promise.reject('error')\n    } else {\n      return res.data\n    }\n  },\n  error => {\n    console.log('err' + error)\n    let { message } = error;\n    if (message == \"Network Error\") {\n      message = \"后端接口连接异常\";\n    }\n    else if (message.includes(\"timeout\")) {\n      message = \"系统接口请求超时\";\n    }\n    else if (message.includes(\"Request failed with status code\")) {\n      message = \"系统接口\" + message.substr(message.length - 3) + \"异常\";\n    }\n    Message({\n      message: message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  }\n)\n\n// 通用下载方法\nexport function download(url, params, filename) {\n  downloadLoadingInstance = Loading.service({ text: \"正在下载数据，请稍候\", spinner: \"el-icon-loading\", background: \"rgba(0, 0, 0, 0.7)\", })\n  return service.post(url, params, {\n    transformRequest: [(params) => { return tansParams(params) }],\n    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n    responseType: 'blob'\n  }).then(async (data) => {\n    const isLogin = await blobValidate(data);\n    if (isLogin) {\n      const blob = new Blob([data])\n      saveAs(blob, filename)\n    } else {\n      const resText = await data.text();\n      const rspObj = JSON.parse(resText);\n      const errMsg = errorCode[rspObj.code] || rspObj.msg || errorCode['default']\n      Message.error(errMsg);\n    }\n    downloadLoadingInstance.close();\n  }).catch((r) => {\n    console.error(r)\n    Message.error('下载文件出现错误，请联系管理员！')\n    downloadLoadingInstance.close();\n  })\n}\n\nexport default service\n"],"mappings":"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"}]}