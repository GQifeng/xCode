{"remainingRequest":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\views\\system\\shoppingCart\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\views\\system\\shoppingCart\\index.vue","mtime":1680836434000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdFNob3BwaW5nQ2FydCwKICBnZXRTaG9wcGluZ0NhcnQsCiAgZGVsU2hvcHBpbmdDYXJ0LAogIGFkZFNob3BwaW5nQ2FydCwKICB1cGRhdGVTaG9wcGluZ0NhcnQsCiAgc2hvcHBpbmdDYXJ0U2V0dGxlbWVudAp9IGZyb20gJ0AvYXBpL3N5c3RlbS9zaG9wcGluZ0NhcnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Nob3BwaW5nQ2FydCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v6YCJ5Lit5pWw5o2uCiAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogW10sCiAgICAgIHRvdGFsUHJpY2U6IDAsCiAgICAgIC8vIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsCiAgICAgIC8vIGNoZWNrQWxsOiBmYWxzZSwKICAgICAgLy8g5qC56Lev5b6ECiAgICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDotK3nianovabooajmoLzmlbDmja4KICAgICAgc2hvcHBpbmdDYXJ0TGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgdXNlcklkOiBudWxsLAogICAgICAgIHByb2R1Y3ROYW1lOiBudWxsLAogICAgICAgIG51bTogbnVsbCwKICAgICAgICBwcmljZTogbnVsbCwKICAgICAgICBzdGF0dXM6ICcxJwogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIGlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5Li76ZSuSWTkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdXNlcklkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi3aWTkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdGFibGVJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WFs+iBlGlk5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG51bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+aVsOmHj+S4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwcmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S7t+agvOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBhY3RpdmVOYW1lOiAnc2hvcHBpbmdDYXJ0JywKICAgICAgaWQ6IG51bGwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQoKICB9LAogIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAgIC8vIOiuoeeul+aAu+S7t+WSjOaAu+aVsOmHjwogICAgICAgICAgY2FsVG90YWxQcmljZSgpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgICAgICAgX3RoaXMudG90YWxQcmljZSA9IDA7CiAgICAgICAgICAgIF90aGlzLmNhcnRUb3RhbENvdW50ID0gMDsKICAgICAgICAgICAgLy8g5aaC5p6c5pyJ6YCJ5Lit6aG5CiAgICAgICAgICAgIGlmIChfdGhpcy5zZWxlY3Rpb25EYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBfdGhpcy5zZWxlY3Rpb25EYXRhLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsUHJpY2UgKz0gaXRlbS5udW0gKiBpdGVtLnByaWNlOwogICAgICAgICAgICAgICAgX3RoaXMuY2FydFRvdGFsQ291bnQgKz0gaXRlbS5udW07CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICB0YWJzSGFuZGxlQ2xpY2sodGFiLCBldmVudCkgewogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIGhhbmRsZVNldHRsZW1lbnQoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGlkczogdGhpcy5pZHMudG9TdHJpbmcoKQogICAgICB9CiAgICAgIHNob3BwaW5nQ2FydFNldHRsZW1lbnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+e7k+eul+aIkOWKnycpCiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgfSkKICAgIH0sCiAgICAvKiog5p+l6K+i6LSt54mp6L2m5YiX6KGoICovCiAgICBnZXRMaXN0KCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlci5yb2xlcyAhPSBudWxsICYmIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIucm9sZXNbMF0gPT0gJ2FkbWluJykgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzID0gMAogICAgICB9CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgbGlzdFNob3BwaW5nQ2FydCh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnNob3BwaW5nQ2FydExpc3QgPSByZXNwb25zZS5yb3dzCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2UKICAgICAgdGhpcy5yZXNldCgpCiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgICB0YWJsZUlkOiBudWxsLAogICAgICAgIG51bTogbnVsbCwKICAgICAgICBwcmljZTogbnVsbAogICAgICB9CiAgICAgIHRoaXMucmVzZXRGb3JtKCdmb3JtJykKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMQogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCdxdWVyeUZvcm0nKQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCkKICAgIH0sCiAgICBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2codmFsKQogICAgICB0aGlzLiRyZWZzLnNob3BwaW5nQ2FydExpc3QuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgaWYgKHZhbCkgewogICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHRoaXMuc2hvcHBpbmdDYXJ0TGlzdCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdGlvbkNoYW5nZSgpCiAgICAgIH0KICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy50b3RhbFByaWNlID0gMAogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdGlvbi5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMudG90YWxQcmljZSArPSBzZWxlY3Rpb25baV0ucHJpY2UKICAgICAgfQogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQogICAgICAvLyB0aGlzLmNoZWNrQWxsID0gc2VsZWN0aW9uLmxlbmd0aCA9PT0gdGhpcy5zaG9wcGluZ0NhcnRMaXN0Lmxlbmd0aAogICAgICAvLyB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9IHNlbGVjdGlvbi5sZW5ndGggPiAwICYmIHNlbGVjdGlvbi5sZW5ndGggPCB0aGlzLnNob3BwaW5nQ2FydExpc3QubGVuZ3RoCiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCA8IDEKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoCiAgICAgIC8vIGNvbnNvbGUubG9nKGlkcykKICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKQogICAgICB0aGlzLm9wZW4gPSB0cnVlCiAgICAgIHRoaXMudGl0bGUgPSAn5re75Yqg6LSt54mp6L2mJwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpCiAgICAgIGNvbnN0IGlkID0gcm93LmlkIHx8IHRoaXMuaWRzCiAgICAgIGdldFNob3BwaW5nQ2FydChpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5mb3JtID0gcmVzcG9uc2UuZGF0YQogICAgICAgIHRoaXMub3BlbiA9IHRydWUKICAgICAgICB0aGlzLnRpdGxlID0gJ+S/ruaUuei0reeJqei9picKICAgICAgfSkKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuZm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHVwZGF0ZVNob3BwaW5nQ2FydCh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkU2hvcHBpbmdDYXJ0KHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJykKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgY29uc3QgaWRzID0gcm93LmlkIHx8IHRoaXMuaWRzCiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOi0reeJqei9pue8luWPt+S4uiInICsgaWRzICsgJyLnmoTmlbDmja7pobnvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkZWxTaG9wcGluZ0NhcnQoaWRzKQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpCiAgICAgIH0pLmNhdGNoKCgpID0+IHt9KQogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgdGhpcy5kb3dubG9hZCgnc3lzdGVtL3Nob3BwaW5nQ2FydC9leHBvcnQnLCB7CiAgICAgICAgLi4udGhpcy5xdWVyeVBhcmFtcwogICAgICB9LCBgc2hvcHBpbmdDYXJ0XyR7bmV3IERhdGUoKS5nZXRUaW1lKCl9Lnhsc3hgKQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/shoppingCart","sourcesContent":["<!-- 购物车 -->\r\n<template>\r\n  <div class=\"app-container\" >\n    <div class=\"cart-web\">\n      <div class=\"search\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"商品名称\" prop=\"productName\">\r\n        <el-input v-model=\"queryParams.productName\" placeholder=\"请输入商品名称\" clearable @keyup.enter.native=\"handleQuery\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\n    </div>\r\n<div  class=\"cart-table-container\">\r\n    <el-table v-loading=\"loading\" :data=\"shoppingCartList\" ref=\"shoppingCartList\"\r\n      @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <el-table-column label=\"商品图片\" align=\"center\" prop=\"productImg\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <image-preview :src=\"scope.row.productImg\" :width=\"100\" :height=\"100\" />\r\n\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"商品名称\" sortable align=\"center\" prop=\"productName\"></el-table-column>\r\n      <el-table-column label=\"用户\" align=\"center\" prop=\"createBy\" />\r\n\r\n      <el-table-column label=\"数量\" align=\"center\" sortable prop=\"num\" />\r\n      <el-table-column label=\"价格\" align=\"center\" sortable prop=\"price\" />\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\"\r\n        v-if=\"activeName=='shoppingCart'\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" round @click=\"handleDelete(scope.row)\" v-hasPermi=\"['system:shoppingCart:remove']\">删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\r\n      <el-table-column label=\"商品名称\" align=\"center\" sortable prop=\"productName\"/>\r\n      <el-table-column label=\"商品图片\" align=\"center\" prop=\"productImg\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <image-preview :src=\"scope.row.productImg\" :width=\"50\" :height=\"50\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"用户\" align=\"center\" prop=\"createBy\"/>\r\n      <el-table-column label=\"数量\" align=\"center\" sortable prop=\"num\"/>\r\n      <el-table-column label=\"价格\" align=\"center\" sortable prop=\"price\"/>\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\"\r\n                       v-if=\"activeName=='shoppingCart'\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <el-button type=\"danger\" round @click=\"handleDelete(scope.row)\"\r\n                     v-hasPermi=\"['system:shoppingCart:remove']\"\r\n          >删除\r\n          </el-button>\r\n        </template>\r\n      </el-table-column> -->\r\n    </el-table>\r\n\n\n\r\n    <div style=\"padding-left: 95%;padding-top: 1%\">\r\n      <div style=\"position: absolute;right: 7%;margin-top: 8px;\">合计：{{ totalPrice }}元\r\n      </div>\r\n      <el-button type=\"success\"  plain :disabled=\"single\" @click=\"handleSettlement\"\r\n        v-hasPermi=\"['system:shoppingCart:edit']\">结算\r\n      </el-button>\r\n    </div>\r\n</div>\n</div>\r\n  </div>\n\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    listShoppingCart,\r\n    getShoppingCart,\r\n    delShoppingCart,\r\n    addShoppingCart,\r\n    updateShoppingCart,\r\n    shoppingCartSettlement\r\n  } from '@/api/system/shoppingCart'\r\n\r\n  export default {\r\n    name: 'ShoppingCart',\r\n    data() {\r\n      return {\n        //选中数据\n                selectionData: [],\r\n        totalPrice: 0,\r\n        // isIndeterminate: false,\r\n        // checkAll: false,\r\n        // 根路径\r\n        baseURL: process.env.VUE_APP_BASE_API,\r\n        // 遮罩层\r\n        loading: true,\r\n        // 选中数组\r\n        ids: [],\r\n        // 非单个禁用\r\n        single: true,\r\n        // 非多个禁用\r\n        multiple: true,\r\n        // 显示搜索条件\r\n        showSearch: true,\r\n        // 总条数\r\n        total: 0,\r\n        // 购物车表格数据\r\n        shoppingCartList: [],\r\n        // 弹出层标题\r\n        title: '',\r\n        // 是否显示弹出层\r\n        open: false,\r\n        // 查询参数\r\n        queryParams: {\r\n          pageNum: 1,\r\n          pageSize: 10,\r\n          userId: null,\r\n          productName: null,\r\n          num: null,\r\n          price: null,\r\n          status: '1'\r\n        },\r\n        // 表单参数\r\n        form: {},\r\n        // 表单校验\r\n        rules: {\r\n          id: [{\r\n            required: true,\r\n            message: '主键Id不能为空',\r\n            trigger: 'blur'\r\n          }],\r\n          userId: [{\r\n            required: true,\r\n            message: '用户id不能为空',\r\n            trigger: 'blur'\r\n          }],\r\n          tableId: [{\r\n            required: true,\r\n            message: '关联id不能为空',\r\n            trigger: 'blur'\r\n          }],\r\n          num: [{\r\n            required: true,\r\n            message: '数量不能为空',\r\n            trigger: 'blur'\r\n          }],\r\n          price: [{\r\n            required: true,\r\n            message: '价格不能为空',\r\n            trigger: 'blur'\r\n          }]\r\n        },\r\n        activeName: 'shoppingCart',\r\n        id: null\r\n      }\r\n    },\r\n    created() {\r\n      this.getList()\r\n\r\n    },\r\n    mounted() {},\r\n    methods: {\r\n        // 计算总价和总数量\n            calTotalPrice() {\n              let _this = this;\n              _this.totalPrice = 0;\n              _this.cartTotalCount = 0;\n              // 如果有选中项\n              if (_this.selectionData.length > 0) {\n                _this.selectionData.forEach((item) => {\n                  _this.totalPrice += item.num * item.price;\n                  _this.cartTotalCount += item.num;\n                });\n              }\n            },\r\n      tabsHandleClick(tab, event) {\r\n        this.getList()\r\n      },\r\n      handleSettlement() {\r\n        let data = {\r\n          ids: this.ids.toString()\r\n        }\r\n        shoppingCartSettlement(data).then(res => {\r\n          this.$modal.msgSuccess('结算成功')\r\n          this.getList()\r\n        })\r\n      },\r\n      /** 查询购物车列表 */\r\n      getList() {\r\n        if (this.$store.state.user.roles != null && this.$store.state.user.roles[0] == 'admin') {\r\n          this.queryParams.status = 0\r\n        }\r\n        this.loading = true\r\n        listShoppingCart(this.queryParams).then(response => {\r\n          this.shoppingCartList = response.rows\r\n          this.total = response.total\r\n          this.loading = false\r\n        })\r\n      },\r\n      // 取消按钮\r\n      cancel() {\r\n        this.open = false\r\n        this.reset()\r\n      },\r\n      // 表单重置\r\n      reset() {\r\n        this.form = {\r\n          id: null,\r\n          userId: null,\r\n          tableId: null,\r\n          num: null,\r\n          price: null\r\n        }\r\n        this.resetForm('form')\r\n      },\r\n      /** 搜索按钮操作 */\r\n      handleQuery() {\r\n        this.queryParams.pageNum = 1\r\n        this.getList()\r\n      },\r\n      /** 重置按钮操作 */\r\n      resetQuery() {\r\n        this.resetForm('queryForm')\r\n        this.handleQuery()\r\n      },\r\n      handleCheckAllChange(val) {\r\n        console.log(val)\r\n        this.$refs.shoppingCartList.clearSelection();\r\n        if (val) {\r\n          this.handleSelectionChange(this.shoppingCartList)\r\n        } else {\r\n          this.handleSelectionChange()\r\n        }\r\n      },\r\n      // 多选框选中数据\r\n      handleSelectionChange(selection) {\r\n        this.totalPrice = 0\r\n        for (let i = 0; i < selection.length; i++) {\r\n          this.totalPrice += selection[i].price\r\n        }\r\n        this.ids = selection.map(item => item.id)\r\n        // this.checkAll = selection.length === this.shoppingCartList.length\r\n        // this.isIndeterminate = selection.length > 0 && selection.length < this.shoppingCartList.length\r\n        this.single = selection.length < 1\r\n        this.multiple = !selection.length\r\n        // console.log(ids)\r\n      },\r\n      /** 新增按钮操作 */\r\n      handleAdd() {\r\n        this.reset()\r\n        this.open = true\r\n        this.title = '添加购物车'\r\n      },\r\n      /** 修改按钮操作 */\r\n      handleUpdate(row) {\r\n        this.reset()\r\n        const id = row.id || this.ids\r\n        getShoppingCart(id).then(response => {\r\n          this.form = response.data\r\n          this.open = true\r\n          this.title = '修改购物车'\r\n        })\r\n      },\r\n      /** 提交按钮 */\r\n      submitForm() {\r\n        this.$refs['form'].validate(valid => {\r\n          if (valid) {\r\n            if (this.form.id != null) {\r\n              updateShoppingCart(this.form).then(response => {\r\n                this.$modal.msgSuccess('修改成功')\r\n                this.open = false\r\n                this.getList()\r\n              })\r\n            } else {\r\n              addShoppingCart(this.form).then(response => {\r\n                this.$modal.msgSuccess('新增成功')\r\n                this.open = false\r\n                this.getList()\r\n              })\r\n            }\r\n          }\r\n        })\r\n      },\r\n      /** 删除按钮操作 */\r\n      handleDelete(row) {\r\n        const ids = row.id || this.ids\r\n        this.$modal.confirm('是否确认删除购物车编号为\"' + ids + '\"的数据项？').then(function() {\r\n          return delShoppingCart(ids)\r\n        }).then(() => {\r\n          this.getList()\r\n          this.$modal.msgSuccess('删除成功')\r\n        }).catch(() => {})\r\n      },\r\n      /** 导出按钮操作 */\r\n      handleExport() {\r\n        this.download('system/shoppingCart/export', {\r\n          ...this.queryParams\r\n        }, `shoppingCart_${new Date().getTime()}.xlsx`)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\n  /* 购物车web端 */\n  .cart-web {\n    width: 100%;\n    height: auto;\n    background: #e8e2e0;\n  }\n\n.search{\n  padding-top: 25px;\n}\n  /* 购物车头部 */\n  .cart-header {\n    width: 100%;\n    height: 58px;\n    padding: 11px 0;\n    background-color: #fff;\n    display: flex;\n    justify-content: center;\n  }\n\n  .cart-header .cart-header-contain {\n    width: 80%;\n    display: flex;\n    align-items: center;\n  }\n\n  /* 购物车标题 */\n  .cart-header .cart-header-contain .cart-title {\n    font-size: 18px;\n    font-weight: 500;\n  }\n\n  .cart-contain {\n    width: 100%;\n    height: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-top: 24px;\n  }\n\n  .cart-table-container {\n    width: 95%;\n    margin-left: 35px;\n    border-radius: 25px;\n    padding: 5px 30px;\n    background: #FFF;\n    min-height: calc(100vh - 130px);\n    position: relative;\n  }\n\n  .cart-filter-bar {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n\n  .cart-filter-bar .switch-cart {\n    overflow: hidden;\n    color: #000;\n    font-size: 18px;\n    font-weight: 600;\n    height: 72px;\n    line-height: 72px;\n  }\n\n  .cart-filter-bar .cart-sum {\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n  }\n\n  .cart-sum .total-symbol {\n    font-weight: 400;\n    margin-right: 12px;\n    font-size: 24px;\n    color: #ff5000;\n  }\n\n  /* 激活状态的支付按钮 */\n  .cart-sum .pay-btn-active {\n    width: 74px;\n    height: 42px;\n    line-height: 42px;\n    color: #fff;\n    background: #ff5000;\n    border-radius: 21px;\n    text-align: center;\n    cursor: pointer;\n    text-decoration: none;\n    font-size: 16px;\n  }\n\n  /* 未激活状态的支付按钮 */\n  .cart-sum .pay-btn-inactive {\n    width: 74px;\n    height: 42px;\n    line-height: 42px;\n    color: #fff;\n    background: #a3a3a3;\n    border-radius: 21px;\n    text-align: center;\n    cursor: not-allowed;\n    text-decoration: none;\n    font-size: 16px;\n  }\n\n  .inactive-btn {\n    background: #aaa !important;\n    color: #fff;\n    cursor: not-allowed !important;\n  }\n\n  .cart-list-content {\n    max-height: 100vh;\n    padding-bottom: 72px;\n    overflow-y: auto;\n  }\n\n  /* 购物车底部栏 */\n  .cart-filter-bar-bottom {\n    width: 95%;\n    display: flex;\n    justify-content: space-between;\n    position: absolute;\n    bottom: 0;\n    background: #fff;\n    z-index: 999;\n  }\n\n  .cart-filter-bar-bottom .bar-bottom-left {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  /* 全选 */\n  .cart-filter-bar-bottom .all-check {\n    overflow: hidden;\n    color: #000;\n    height: 72px;\n    line-height: 72px;\n    font-size: 12px;\n  }\n\n  .cart-filter-bar-bottom .all-check .all-check-checkbox {\n    margin-right: 10px;\n  }\n\n  /* 全部删除 */\n  .cart-filter-bar-bottom .all-del {\n    margin-left: 20px;\n  }\n\n  .cart-filter-bar-bottom .cart-sum {\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n  }\n\n  .cart-sum .pay-text {\n    margin: 0 12px;\n  }\n\n  .cart-sum .total-text {\n    margin: 0 0 0 12px;\n  }\n\n  .cart-box {\n    padding: 10px 0;\n  }\n\n  .cart-list-item {\n    position: relative;\n    border-radius: 8px;\n    overflow: hidden;\n    border: 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin: 20px;\n    background-color: #fff;\n    padding: 8px 0;\n  }\n\n  .cart-list-item .cart-item-info {\n    display: flex;\n    align-items: center;\n    padding: 0 0 0 15px;\n  }\n\n  .cart-list-item .cart-item-left {\n    width: 100px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n  }\n\n  .cart-list-item .left-check {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 0 8%;\n  }\n\n  /* 单个选择按钮 */\n  .cart-list-item .left-check .checkbox {\n    width: 14px;\n    height: 14px;\n    border-radius: 50%;\n    background: #fff;\n    border: 1px solid #b9b9b9;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  /* 单个选择按钮选中 */\n  .cart-list-item .left-check .checkbox .selected-check {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    background: red;\n  }\n\n  .cart-item-right {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    padding: 10px;\n  }\n\n  .cart-item-opera {\n    display: flex;\n    align-items: center;\n  }\n\n  /* 删除按钮 */\n  .del-btn {\n    position: absolute;\n    right: 10px;\n    bottom: 10px;\n    font-size: 17px;\n    color: red;\n  }\n  .cart-item-right .cart-item-info-content {\n    margin-right: 20px;\n    width: 70px;\n  }\n\n  .cart-item-right .goods-name {\n    width: 100%;\n    font-size: 15px;\n    color: #333333;\n    margin-top: 3px;\n    text-align: left;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n\n  .cart-item-right .numbers {\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin-top: 10px;\n  }\n\n  .cart-item-right .numbers .price {\n    font-size: 14px;\n    line-height: 25px;\n    color: #ff0000;\n  }\n\n  .bottom-all {\n    height: 50px;\n    width: 100%;\n    padding: 0 2%;\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    background-color: #fdfdfd;\n    z-index: 11;\n    border-top: 1px solid #f8f8f8;\n  }\n\n  .bottom-all .left {\n    float: left;\n    width: 28vw;\n    font-size: 14px;\n    position: relative;\n  }\n\n  .bottom-all .left .text {\n    position: absolute;\n    left: 35px;\n    top: 50%;\n    transform: translateY(-52%);\n    color: #333333;\n  }\n\n  .bottom-all .del-text {\n    color: red;\n    position: absolute;\n    left: 80px;\n    top: 47%;\n    transform: translateY(-52%);\n  }\n\n  .bottom-all .left-check {\n    padding-left: 8px;\n    flex-shrink: 0;\n    height: 50px;\n    margin-right: 8px;\n    align-items: center;\n    position: relative;\n    display: flex;\n  }\n\n  .bottom-all .rights {\n    width: 40vw;\n    line-height: 50px;\n    font-size: 16px;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n\n  .bottom-all .settlement-inactive {\n    padding: 0 4px;\n    border-radius: 16px;\n    width: 18vw;\n    height: 35px;\n    line-height: 35px;\n    color: #ffffff;\n    font-size: 17px;\n    text-align: center;\n    margin-right: 20px;\n    cursor: not-allowed;\n    background-color: #a3a3a3;\n  }\n\n  .bottom-all .settlement-active {\n    padding: 0 4px;\n    border-radius: 16px;\n    width: 18vw;\n    height: 35px;\n    line-height: 35px;\n    color: #ffffff;\n    font-size: 17px;\n    text-align: center;\n    margin-right: 20px;\n    background-color: #ff5000;\n  }\n\n  /* 购物车为空的样式 */\n  .cart-no-data {\n    text-align: center;\n  }\n\n  .total-pay-count {\n    font-size: 24px;\n    color: #ff5000;\n  }\n\n  @media (max-width: 700px) {\n    /* 弹窗 */\n    .el-message-box {\n      width: 300px !important;\n    }\n\n    /* el-input-number样式 */\n    .el-input-number {\n      width: 100px !important;\n      line-height: 28px !important;\n    }\n    .el-input-number .el-input__inner {\n      padding-left: 0 !important;\n      padding-right: 0 !important;\n    }\n    .el-input__inner {\n      height: 30px !important;\n    }\n    .el-input-number__decrease,\n    .el-input-number__increase {\n      width: 20px !important;\n    }\n  }\n\r\n</style>\n"]}]}