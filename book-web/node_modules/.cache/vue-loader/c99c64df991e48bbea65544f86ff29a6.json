{"remainingRequest":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\views\\system\\shoppingOrder\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\src\\views\\system\\shoppingOrder\\index.vue","mtime":1680835934000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\徐可心\\Desktop\\S1211-设计\\项目源码\\book-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdFNob3BwaW5nQ2FydCwKICBnZXRTaG9wcGluZ0NhcnQsCiAgZGVsU2hvcHBpbmdDYXJ0LAogIGFkZFNob3BwaW5nQ2FydCwKICB1cGRhdGVTaG9wcGluZ0NhcnQsCiAgc2hvcHBpbmdDYXJ0U2V0dGxlbWVudAp9IGZyb20gJ0AvYXBpL3N5c3RlbS9zaG9wcGluZ0NhcnQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Nob3BwaW5nQ2FydCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRvdGFsUHJpY2U6IDAsCiAgICAgIC8vIGlzSW5kZXRlcm1pbmF0ZTogZmFsc2UsCiAgICAgIC8vIGNoZWNrQWxsOiBmYWxzZSwKICAgICAgLy8g5qC56Lev5b6ECiAgICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDotK3nianovabooajmoLzmlbDmja4KICAgICAgc2hvcHBpbmdDYXJ0TGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMTAsCiAgICAgICAgdXNlcklkOiBudWxsLAogICAgICAgIHByb2R1Y3ROYW1lOiBudWxsLAogICAgICAgIG51bTogbnVsbCwKICAgICAgICBwcmljZTogbnVsbCwKICAgICAgICBzdGF0dXM6ICcwJwogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIGlkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5Li76ZSuSWTkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdXNlcklkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn55So5oi3aWTkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdGFibGVJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WFs+iBlGlk5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIG51bTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+aVsOmHj+S4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwcmljZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S7t+agvOS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBhY3RpdmVOYW1lOiAnc2hvcHBpbmdDYXJ0JywKICAgICAgaWQ6bnVsbAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCgogIH0sCiAgbWV0aG9kczogewogICAgdGFibGVSb3dDbGFzc05hbWUoe3Jvdywgcm93SW5kZXh9KSB7CiAgICAgICAgICAgaWYgKHJvd0luZGV4JTIgPT09IDEpIHsKICAgICAgICAgICAgIHJldHVybiAnd2FybmluZy1yb3cnOwogICAgICAgICAgIH0gZWxzZSBpZiAocm93SW5kZXglMiA9PT0gMCkgewogICAgICAgICAgICAgcmV0dXJuICdzdWNjZXNzLXJvdyc7CiAgICAgICAgICAgfQogICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICAgfSwKICAgIGhhbmRsZVNldHRsZW1lbnQoKSB7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGlkczogdGhpcy5pZHMudG9TdHJpbmcoKQogICAgICB9CiAgICAgIHNob3BwaW5nQ2FydFNldHRsZW1lbnQoZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+e7k+eul+aIkOWKnycpCiAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgfSkKICAgIH0sCiAgICAvKiog5p+l6K+i6LSt54mp6L2m5YiX6KGoICovCiAgICBnZXRMaXN0KCkgewogICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnJvbGVzIT1udWxsJiZ0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnJvbGVzWzBdPT0nYWRtaW4nKXsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnN0YXR1cyA9IDAKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGxpc3RTaG9wcGluZ0NhcnQodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5zaG9wcGluZ0NhcnRMaXN0ID0gcmVzcG9uc2Uucm93cwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbAogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlCiAgICAgIHRoaXMucmVzZXQoKQogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICB1c2VySWQ6IG51bGwsCiAgICAgICAgdGFibGVJZDogbnVsbCwKICAgICAgICBudW06IG51bGwsCiAgICAgICAgcHJpY2U6IG51bGwKICAgICAgfQogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpCiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDEKICAgICAgdGhpcy5nZXRMaXN0KCkKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJykKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpCiAgICB9LAogICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCkKICAgICAgdGhpcy4kcmVmcy5zaG9wcGluZ0NhcnRMaXN0LmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdGlvbkNoYW5nZSh0aGlzLnNob3BwaW5nQ2FydExpc3QpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3Rpb25DaGFuZ2UoKQogICAgICB9CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMudG90YWxQcmljZSA9IDAKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Rpb24ubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLnRvdGFsUHJpY2UgKz0gc2VsZWN0aW9uW2ldLnByaWNlCiAgICAgIH0KICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkKICAgICAgLy8gdGhpcy5jaGVja0FsbCA9IHNlbGVjdGlvbi5sZW5ndGggPT09IHRoaXMuc2hvcHBpbmdDYXJ0TGlzdC5sZW5ndGgKICAgICAgLy8gdGhpcy5pc0luZGV0ZXJtaW5hdGUgPSBzZWxlY3Rpb24ubGVuZ3RoID4gMCAmJiBzZWxlY3Rpb24ubGVuZ3RoIDwgdGhpcy5zaG9wcGluZ0NhcnRMaXN0Lmxlbmd0aAogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDEKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoCiAgICAgIC8vIGNvbnNvbGUubG9nKGlkcykKICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMucmVzZXQoKQogICAgICB0aGlzLm9wZW4gPSB0cnVlCiAgICAgIHRoaXMudGl0bGUgPSAn5re75Yqg6LSt54mp6L2mJwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpCiAgICAgIGNvbnN0IGlkID0gcm93LmlkIHx8IHRoaXMuaWRzCiAgICAgIGdldFNob3BwaW5nQ2FydChpZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5mb3JtID0gcmVzcG9uc2UuZGF0YQogICAgICAgIHRoaXMub3BlbiA9IHRydWUKICAgICAgICB0aGlzLnRpdGxlID0gJ+S/ruaUuei0reeJqei9picKICAgICAgfSkKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCiAgICBzdWJtaXRGb3JtKCkgewogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKHRoaXMuZm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgICAgIHVwZGF0ZVNob3BwaW5nQ2FydCh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpCiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkU2hvcHBpbmdDYXJ0KHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbW9kYWwubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJykKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgY29uc3QgaWRzID0gcm93LmlkIHx8IHRoaXMuaWRzCiAgICAgIHRoaXMuJG1vZGFsLmNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOiuouWNlee8luWPt+S4uiInICsgaWRzICsgJyLnmoTorqLljZXvvJ8nKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkZWxTaG9wcGluZ0NhcnQoaWRzKQogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmdldExpc3QoKQogICAgICAgIHRoaXMuJG1vZGFsLm1zZ1N1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgfSkKICAgIH0sCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIHRoaXMuZG93bmxvYWQoJ3N5c3RlbS9zaG9wcGluZ0NhcnQvZXhwb3J0JywgewogICAgICAgIC4uLnRoaXMucXVlcnlQYXJhbXMKICAgICAgfSwgYHNob3BwaW5nQ2FydF8ke25ldyBEYXRlKCkuZ2V0VGltZSgpfS54bHN4YCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/system/shoppingOrder","sourcesContent":["<!-- 订单 -->\n<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"商品名称\" prop=\"productName\">\n        <el-input v-model=\"queryParams.productName\" placeholder=\"请输入商品名称\" clearable @keyup.enter.native=\"handleQuery\"/>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\n\n    <el-table v-loading=\"loading\" :data=\"shoppingCartList\" :row-class-name=\"tableRowClassName\" ref=\"shoppingCartList\" @selection-change=\"handleSelectionChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column label=\"商品名称\" align=\"center\" sortable prop=\"productName\"/>\n      <el-table-column label=\"商品图片\" align=\"center\" prop=\"productImg\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <image-preview :src=\"scope.row.productImg\" :width=\"50\" :height=\"50\"/>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"用户\" align=\"center\" prop=\"createBy\"/>\n      <el-table-column label=\"数量\" align=\"center\" sortable prop=\"num\"/>\n      <el-table-column label=\"价格\" align=\"center\" sortable prop=\"price\"/>\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\"\n                       v-if=\"activeName=='shoppingCart'\"\n      >\n        <template slot-scope=\"scope\">\n          <!--          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-edit\" @click=\"handleUpdate(scope.row)\"-->\n          <!--                     v-hasPermi=\"['system:shoppingCart:edit']\"-->\n          <!--          >修改-->\n          <!--          </el-button>-->\n          <el-button type=\"danger\" round @click=\"handleDelete(scope.row)\"\n                     v-hasPermi=\"['system:shoppingCart:remove']\"\n          >删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <!-- 添加或修改购物车对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"商品名称\"  prop=\"productName\">\n          <el-input v-model=\"form.productName\" disabled placeholder=\"请输入商品名称\"/>\n        </el-form-item>\n        <el-form-item label=\"商品图片\" prop=\"productImg\">\n          <image-preview :src=\"form.productImg\" :width=\"150\" :height=\"150\"/>\n          <!-- <el-input v-model=\"form.tableId\" placeholder=\"请输入关联id\" /> -->\n        </el-form-item>\n        <el-form-item label=\"数量\" prop=\"num\">\n          <el-input v-model=\"form.num\"  placeholder=\"请输入数量\"/>\n        </el-form-item>\n        <el-form-item label=\"价格\" prop=\"price\">\n          <el-input v-model=\"form.price\"  disabled placeholder=\"请输入价格\"/>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  listShoppingCart,\n  getShoppingCart,\n  delShoppingCart,\n  addShoppingCart,\n  updateShoppingCart,\n  shoppingCartSettlement\n} from '@/api/system/shoppingCart'\n\nexport default {\n  name: 'ShoppingCart',\n  data() {\n    return {\n      totalPrice: 0,\n      // isIndeterminate: false,\n      // checkAll: false,\n      // 根路径\n      baseURL: process.env.VUE_APP_BASE_API,\n      // 遮罩层\n      loading: true,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 购物车表格数据\n      shoppingCartList: [],\n      // 弹出层标题\n      title: '',\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        userId: null,\n        productName: null,\n        num: null,\n        price: null,\n        status: '0'\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        id: [{\n          required: true,\n          message: '主键Id不能为空',\n          trigger: 'blur'\n        }],\n        userId: [{\n          required: true,\n          message: '用户id不能为空',\n          trigger: 'blur'\n        }],\n        tableId: [{\n          required: true,\n          message: '关联id不能为空',\n          trigger: 'blur'\n        }],\n        num: [{\n          required: true,\n          message: '数量不能为空',\n          trigger: 'blur'\n        }],\n        price: [{\n          required: true,\n          message: '价格不能为空',\n          trigger: 'blur'\n        }]\n      },\n      activeName: 'shoppingCart',\n      id:null\n    }\n  },\n  created() {\n    this.getList()\n\n  },\n  methods: {\n    tableRowClassName({row, rowIndex}) {\n           if (rowIndex%2 === 1) {\n             return 'warning-row';\n           } else if (rowIndex%2 === 0) {\n             return 'success-row';\n           }\n           return '';\n         },\n    handleSettlement() {\n      let data = {\n        ids: this.ids.toString()\n      }\n      shoppingCartSettlement(data).then(res => {\n        this.$modal.msgSuccess('结算成功')\n        this.getList()\n      })\n    },\n    /** 查询购物车列表 */\n    getList() {\n      if(this.$store.state.user.roles!=null&&this.$store.state.user.roles[0]=='admin'){\n        this.queryParams.status = 0\n      }\n      this.loading = true\n      listShoppingCart(this.queryParams).then(response => {\n        this.shoppingCartList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false\n      this.reset()\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        userId: null,\n        tableId: null,\n        num: null,\n        price: null\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm('queryForm')\n      this.handleQuery()\n    },\n    handleCheckAllChange(val) {\n      console.log(val)\n      this.$refs.shoppingCartList.clearSelection();\n      if (val) {\n        this.handleSelectionChange(this.shoppingCartList)\n      } else {\n        this.handleSelectionChange()\n      }\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.totalPrice = 0\n      for (let i = 0; i < selection.length; i++) {\n        this.totalPrice += selection[i].price\n      }\n      this.ids = selection.map(item => item.id)\n      // this.checkAll = selection.length === this.shoppingCartList.length\n      // this.isIndeterminate = selection.length > 0 && selection.length < this.shoppingCartList.length\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n      // console.log(ids)\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.reset()\n      this.open = true\n      this.title = '添加购物车'\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset()\n      const id = row.id || this.ids\n      getShoppingCart(id).then(response => {\n        this.form = response.data\n        this.open = true\n        this.title = '修改购物车'\n      })\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          if (this.form.id != null) {\n            updateShoppingCart(this.form).then(response => {\n              this.$modal.msgSuccess('修改成功')\n              this.open = false\n              this.getList()\n            })\n          } else {\n            addShoppingCart(this.form).then(response => {\n              this.$modal.msgSuccess('新增成功')\n              this.open = false\n              this.getList()\n            })\n          }\n        }\n      })\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ids = row.id || this.ids\n      this.$modal.confirm('是否确认删除订单编号为\"' + ids + '\"的订单？').then(function() {\n        return delShoppingCart(ids)\n      }).then(() => {\n        this.getList()\n        this.$modal.msgSuccess('删除成功')\n      }).catch(() => {\n      })\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      this.download('system/shoppingCart/export', {\n        ...this.queryParams\n      }, `shoppingCart_${new Date().getTime()}.xlsx`)\n    }\n  }\n}\n</script>\n"]}]}